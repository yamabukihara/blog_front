import{e as r,p as y,o as _,f as h,w as d,j as s,i as p,m as k,k as g,s as n,G as x,Q as b}from"./index-25b6f427.js";import{_ as C}from"./CommonPage-d9f08a53.js";import{a as I,_ as U}from"./CrudTable-4e3fed7c.js";import{N as v}from"./Input-4dc6aa48.js";import"./AppPage-77502b8b.js";import"./Space-5eeaf57e.js";import"./RadioGroup-9f11dd0d.js";import"./get-slot-1efb97e5.js";import"./Checkbox-09b0afd8.js";import"./Forward-98208075.js";import"./download-953ccaa2.js";const G=Object.assign({name:"分类管理"},{__name:"index",setup(V){const i=r(null),u=r({keyword:""}),l=r(-1);y(()=>{var t;(t=i.value)==null||t.handleSearch()});const m=x({props:{value:[String,Number],onUpdateValue:[Function,Array],rowIndex:[Number]},setup(t){const e=r(null),a=r(t.value);function o(){l.value=t.rowIndex,b(()=>{e.value.focus()})}function c(){t.onUpdateValue(a.value)}return()=>n("div",{style:"min-height: 22px",onClick:o},l.value===t.rowIndex?n(v,{ref:e,value:a.value,onUpdateValue:w=>{a.value=w},onChange:c,onBlur:c}):t.value)}}),f=[{type:"selection",width:15,fixed:"left"},{title:"创建日期",key:"created_at",width:80,align:"center",render(t,e){return n(m,{value:t.created_at,rowIndex:e,onUpdateValue(a){data.value[e].name=a}})}},{title:"更新日期",key:"updated_at",width:80,align:"center",render(t,e){return n(m,{value:t.updated_at,rowIndex:e,onUpdateValue(a){data.value[e].name=a}})}},{title:"操作",key:"action",width:80,align:"center",render(t,e){return l.value===e?n("button",{onClick(){l.value=-1}},"关闭编辑"):n("button",{onClick(){l.value=e}},"进入编辑")}}];return(t,e)=>(_(),h(C,{title:"测试页面"},{default:d(()=>[s(I,{ref_key:"$table",ref:i,"query-items":u.value,"onUpdate:queryItems":e[2]||(e[2]=a=>u.value=a),columns:f,"get-data":p(k).getCategorys},{queryBar:d(()=>[s(U,{label:"分类名","label-width":50},{default:d(()=>[s(p(v),{value:u.value.keyword,"onUpdate:value":e[0]||(e[0]=a=>u.value.keyword=a),clearable:"",type:"text",placeholder:"请输入分类名",onKeydown:e[1]||(e[1]=g(a=>{var o;return(o=i.value)==null?void 0:o.handleSearch()},["enter"]))},null,8,["value"])]),_:1})]),_:1},8,["query-items","get-data"])]),_:1}))}});export{G as default};
